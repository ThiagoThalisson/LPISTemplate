---
import Navbar from "./Navbar.astro"
import { Image } from "@astrojs/image/components"
---

<header
  class="fixed w-full flex justify-center bg-slate-50 py-2 transition-transform duration-100 h-[72px] header-scroll"
>
  <div class="flex justify-between w-full max-w-screen-lg px-6">
    <Image
      width={32}
      height={32}
      src="./logo.svg"
      quality={100}
      format="svg"
      alt="Logo"
    />

    <Navbar variant="desktop" />
  </div>
</header>

<Navbar variant="mobile" />

<style>
  .header-hidden {
    transform: translateY(calc(-1 * 72px));
  }
</style>

<script defer>
  // Auto-Hides Header On Scroll
  const headerScroll = document.querySelector(".header-scroll")
  let lastScroll = window.scrollY

  window.addEventListener("scroll", () => {
    if (lastScroll < window.scrollY) {
      headerScroll.classList.add("header-hidden")
    } else {
      headerScroll.classList.remove("header-hidden")
    }

    lastScroll = window.scrollY
  })
</script>
